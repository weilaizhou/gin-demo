(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-293c"],{"9mJ7":function(t,e,a){"use strict";a.r(e);var n=a("FyfS"),i=a.n(n),o=a("gDS+"),l=a.n(o),r=a("UPw3"),s=a("Mz3J"),u=a("XJYT"),c={name:"ModuleItem",components:{Pagination:s.a},data:function(){return{listLoading:!0,list:null,cateId:0,name:"",cateName:"",listQuery:{page:1,pageSize:10,total:1},dialogFormVisible:!1,dialogText:"Create",temp:{title:"",content:"",value:"",type:"",sort:1,charts:[{name:"",value:""}]},itemTypeSet:[{key:0,display_name:"文本"},{key:1,display_name:"进度条"},{key:2,display_name:"图表"}],labelSet:{content:"内容",value:"备注"}}},mounted:function(){var t=this.$route.query;this.cateId=t.cateId,this.name=t.name,this.cateName=t.cateName,this.getList()},methods:{getList:function(){var t=this;this.listLoading=!0,Object(r.g)({page:this.listQuery.page,pageSize:this.listQuery.pageSize,categoryId:this.cateId}).then(function(e){t.list=e.data,t.listLoading=!1})},changeForm:function(){switch(this.temp.type){case 1:this.labelSet={content:"内容",value:"百分比"};break;case 2:this.labelSet={content:"内容",value:"值"};break;default:this.labelSet={content:"内容",value:"备注"}}},handleCreate:function(){this.dialogText="Create",this.temp={id:0,title:"",content:"",value:"",type:"",sort:1,charts:[{name:"",value:""}]},this.dialogFormVisible=!0},createData:function(){var t=this;2===this.temp.type&&(this.temp.value=l()(this.temp.charts)),Object(r.b)({categoryId:this.cateId,title:this.temp.title,content:this.temp.content,value:this.temp.value,type:this.temp.type}).then(function(e){t.dialogFormVisible=!1,Object(u.Message)({message:e.data.msg,type:"success",duration:5e3}),t.getList()})},parseType:function(t){var e="",a=!0,n=!1,o=void 0;try{for(var l,r=i()(this.itemTypeSet);!(a=(l=r.next()).done);a=!0){var s=l.value;if(s.key===t){e=s.display_name;break}}}catch(t){n=!0,o=t}finally{try{!a&&r.return&&r.return()}finally{if(n)throw o}}return e},delData:function(t){var e=this;Object(r.e)({id:t}).then(function(t){Object(u.Message)({message:t.data.msg,type:"success",duration:5e3}),e.getList()})},addChartCate:function(){this.temp.charts.push({name:"",value:""})},removeChartCate:function(t){var e=this.temp.charts.indexOf(t);-1!==e&&this.temp.charts.splice(e,1)},handleEdit:function(t){this.dialogText="Edit",this.temp={id:t.id,title:t.title,content:t.content,value:t.value,type:t.type,sort:1,charts:[{name:"",value:""}]},2===t.type&&t.value&&(this.temp.charts=JSON.parse(t.value)),this.dialogFormVisible=!0},updateData:function(){var t=this;2===this.temp.type&&(this.temp.value=l()(this.temp.charts)),Object(r.l)({id:this.temp.id,title:this.temp.title,content:this.temp.content,value:this.temp.value,type:this.temp.type}).then(function(e){t.dialogFormVisible=!1,Object(u.Message)({message:e.data.msg,type:"success",duration:5e3}),t.getList()})}}},p=a("KHd+"),d=Object(p.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:t.handleCreate}},[t._v("添加")]),t._v(" "),a("div",[a("span",[t._v("模块："+t._s(t.name))])]),t._v(" "),a("div",[a("span",[t._v("分类："+t._s(t.cateName))])])],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.list,border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"序号",prop:"id",align:"center",width:"65"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.id))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"标题",width:"200px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.title))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"内容","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.content))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"值",width:"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.value))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"类型",width:"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.parseType(e.row.type)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"排序",width:"100px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.sort))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"添加时间",width:"160px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("parseTime")(e.row.created_at,"{y}-{m}-{d} {h}:{i}:{s}")))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.handleEdit(e.row)}}},[t._v("编辑")]),t._v(" "),e.row.deleted_at?t._e():a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.delData(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.listQuery.total>0,expression:"listQuery.total>0"}],attrs:{total:t.listQuery.total,page:t.listQuery.page,limit:t.listQuery.pageSize},on:{"update:page":function(e){t.$set(t.listQuery,"page",e)},"update:limit":function(e){t.$set(t.listQuery,"pageSize",e)},pagination:t.getList}}),t._v(" "),a("el-dialog",{attrs:{title:t.dialogText,visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{staticStyle:{width:"400px","margin-left":"50px"},attrs:{model:t.temp,"label-position":"left","label-width":"70px"}},[a("el-form-item",{attrs:{label:"类型",prop:"type"}},[a("el-select",{staticClass:"filter-item",attrs:{placeholder:"Please select"},on:{change:t.changeForm},model:{value:t.temp.type,callback:function(e){t.$set(t.temp,"type",e)},expression:"temp.type"}},t._l(t.itemTypeSet,function(t){return a("el-option",{key:t.key,attrs:{label:t.display_name,value:t.key}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{model:{value:t.temp.title,callback:function(e){t.$set(t.temp,"title",e)},expression:"temp.title"}})],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:0===t.temp.type,expression:"temp.type === 0"}],attrs:{label:t.labelSet.content,prop:"content"}},[a("el-input",{model:{value:t.temp.content,callback:function(e){t.$set(t.temp,"content",e)},expression:"temp.content"}})],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2!==t.temp.type,expression:"temp.type !== 2"}],attrs:{label:t.labelSet.value,prop:"value"}},[a("el-input",{model:{value:t.temp.value,callback:function(e){t.$set(t.temp,"value",e)},expression:"temp.value"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"排序",prop:"sort"}},[a("el-input",{model:{value:t.temp.sort,callback:function(e){t.$set(t.temp,"sort",e)},expression:"temp.sort"}})],1),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:2===t.temp.type,expression:"temp.type === 2"}],attrs:{type:"primary"},on:{click:function(e){t.addChartCate()}}},[t._v("添加分类")]),t._v(" "),t._l(t.temp.charts,function(e,n){return a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2===t.temp.type,expression:"temp.type === 2"}],key:e.key,attrs:{label:"分类"+n}},[a("span",[t._v("名称：")]),t._v(" "),a("el-input",{staticStyle:{width:"200px","margin-bottom":"10px"},model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"chart.name"}}),a("br"),t._v(" "),a("span",[t._v("数值：")]),t._v(" "),a("el-input",{staticStyle:{width:"100px"},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"chart.value"}}),t._v(" "),a("el-button",{on:{click:function(a){a.preventDefault(),t.removeChartCate(e)}}},[t._v("删除")])],1)})],2),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v(t._s(t.$t("table.cancel")))]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){"Edit"===t.dialogText?t.updateData():t.createData()}}},[t._v(t._s(t.$t("table.confirm")))])],1)],1)],1)},[],!1,null,null,null);d.options.__file="item.vue";e.default=d.exports},UPw3:function(t,e,a){"use strict";a.d(e,"f",function(){return o}),a.d(e,"a",function(){return l}),a.d(e,"j",function(){return r}),a.d(e,"n",function(){return s}),a.d(e,"k",function(){return u}),a.d(e,"d",function(){return c}),a.d(e,"o",function(){return p}),a.d(e,"i",function(){return d}),a.d(e,"c",function(){return m}),a.d(e,"g",function(){return f}),a.d(e,"b",function(){return h}),a.d(e,"l",function(){return v}),a.d(e,"e",function(){return y}),a.d(e,"h",function(){return b}),a.d(e,"m",function(){return g});var n=a("t3Un"),i="/admin";function o(t){return Object(n.a)({url:i+"/admin/list",method:"get",params:t})}function l(t){return Object(n.a)({url:i+"/admin/create",method:"post",data:t})}function r(){return Object(n.a)({url:i+"/module/list",method:"get"})}function s(t){return Object(n.a)({url:i+"/module/update",method:"post",data:t})}function u(t){return Object(n.a)({url:i+"/note/list",mehtod:"get",params:t})}function c(t){return Object(n.a)({url:i+"/note/create",method:"post",data:t})}function p(t){return Object(n.a)({url:i+"/note/update",method:"post",data:t})}function d(t){return Object(n.a)({url:i+"/category/list",method:"get",params:t})}function m(t){return Object(n.a)({url:i+"/category/create",method:"post",data:t})}function f(t){return Object(n.a)({url:i+"/categoryItem/list",method:"get",params:t})}function h(t){return Object(n.a)({url:i+"/categoryItem/create",method:"post",data:t})}function v(t){return Object(n.a)({url:i+"/categoryItem/update",method:"post",data:t})}function y(t){return Object(n.a)({url:i+"/categoryItem/delete",method:"post",data:t})}function b(){return Object(n.a)({url:i+"/config/mail",methdo:"get"})}function g(t){return Object(n.a)({url:i+"/config/mailUpdate",method:"post",data:t})}},Y5bG:function(t,e,a){"use strict";a.d(e,"a",function(){return i}),Math.easeInOutQuad=function(t,e,a,n){return(t/=n/2)<1?a/2*t*t+e:-a/2*(--t*(t-2)-1)+e};var n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};function i(t,e,a){var i=document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop,o=t-i,l=0;e=void 0===e?500:e;!function t(){l+=20,function(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}(Math.easeInOutQuad(l,i,o,e)),l<e?n(t):a&&"function"==typeof a&&a()}()}},"gDS+":function(t,e,a){t.exports={default:a("oh+g"),__esModule:!0}},"oh+g":function(t,e,a){var n=a("WEpk"),i=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}}}]);